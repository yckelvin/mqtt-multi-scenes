<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="DP#5zz|2Vx!9wi7l$;%%">message</variable><variable id="B1.fj[k61W9Tnwn+P2?b">mode</variable><variable id="{F!l]S56tj~|KN(FHE?I">clientID</variable></variables><block type="pxt-on-start" id="D^.ATDD^B5H!*t?5aOZ|" x="20" y="20"><statement name="HANDLER"><block type="device_show_number" id="jXf%(n337,_#O;G,OIPq"><value name="number"><shadow type="math_number" id="n5B)3W04SJuC3{[=sq67"><field name="NUM">0</field></shadow></value><next><block type="ESP8266_IoT_initWIFI" id="BXm%dn;5etp-b^l.aeu."><field name="tx">SerialPin.P8</field><field name="rx">SerialPin.P12</field><field name="baudrate">BaudRate.BaudRate115200</field><next><block type="ESP8266_IoT_connectWifi" id="6)UP;$-D%^x$PC%zsRe6"><value name="ssid"><shadow type="text" id="hvm[O@oQ.s`yO,Zt8`+#"><field name="TEXT">ssid</field></shadow></value><value name="pw"><shadow type="text" id="t)IrZ1wH*!Txv=30H~XI"><field name="TEXT">password</field></shadow></value><next><block type="variables_set" id="N1-1AVZ?/(Mt(;fyA$pe"><field name="VAR" id="{F!l]S56tj~|KN(FHE?I">clientID</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="TXsUX_}%7Ayizpoa`/gV"><value name="min"><shadow type="math_number" id="{Pz)pfR2u-zQs?@UF4~I"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="C[6NL?.?G-Zb#p^#0vu!"><field name="NUM">99999999</field></shadow></value></block></value><next><block type="device_show_number" id="]`({j@{8cu.HrWWV]3+Q"><value name="number"><shadow type="math_number" id="8NiR0dutTDDbP`%aw|z`"><field name="NUM">1</field></shadow></value><next><block type="initMQTT" id="1e9FnlA+eo#q|-g~IHt1"><field name="scheme">ESP8266_IoT.SchemeList.TCP</field><value name="clientID"><block type="variable_to_text" id="mr+XFm_79:mB3;^}3{sY"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="nrL?M%+vFd0Mr-QGS$/!"><field name="VAR" id="{F!l]S56tj~|KN(FHE?I">clientID</field></block></value></block></value><value name="username"><shadow type="text" id="RCRs4`S~OC^dkX_(y!S."><field name="TEXT">test</field></shadow></value><value name="password"><shadow type="text" id="|OHObU8tF+4HBzw_B`hd"><field name="TEXT">test</field></shadow></value><value name="path"><shadow type="text" id="v5`|NNx6pzHX4ySMK_~x"><field name="TEXT"></field></shadow></value><next><block type="connectMQTT" id="}yCi{+agc[DdjH+!5sgD"><value name="host"><shadow type="text" id="5rhW[FEPJ=q=acvUa},,"><field name="TEXT">192.168.0.32</field></shadow></value><value name="port"><shadow type="math_number" id="OSI.HBEE^!U*nv3n~ql/"><field name="NUM">1884</field></shadow></value><value name="reconnect"><shadow type="logic_boolean" id="4FL+}S!FnF#-P;i@{;j$"><field name="BOOL">FALSE</field></shadow></value><next><block type="device_show_number" id="Q?*=iKk?0Ic!B3s*Y=PC"><value name="number"><shadow type="math_number" id="lzY]$L0`A)aR|T{Gv^.,"><field name="NUM">2</field></shadow></value><next><block type="device_pause" id="f@}NjkQ_2I2P8_u%.wdD"><value name="pause"><shadow type="timePicker" id="q2dC^kM:=y=p%O3ND?Ym"><field name="ms">2000</field></shadow></value><next><block type="controls_if" id="Q.goxxh~dFh3+-H.MJ85"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="ESP8266_IoT_isMqttBrokerConnected" id="Thx-Czsk]i|iW~cbnJb{"></block></value><statement name="DO0"><block type="basic_show_icon" id="OB6Sbrhdjb|7=M~:4xSe"><field name="i">IconNames.Yes</field></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="n%t:E~_dRHH1i@dfL6P}" x="843" y="20"><statement name="HANDLER"><block type="controls_if" id="1gi1GsoNSKwyK.,#cA:-"><mutation elseif="3" else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{UdV!07HoGNBHnBT%Rvj"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="VE|T`S8{7Rp.@.)9SR}v"><field name="VAR" id="B1.fj[k61W9Tnwn+P2?b">mode</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="]@8GnMEoMcRA|G=XVJ}N"><field name="TEXT">sunny mode</field></block></value></block></value><statement name="DO0"><block type="function_call" id="138V8)n,b3]Az-8HfAz%"><mutation name="do_sunny" functionid=".awae^gegwDTtBX%|Z@o"></mutation></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="dA4hO~jIQ)4GLlv1-MDH"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="S^,d%*Zlw4wGhZ-]V=xi"><field name="VAR" id="B1.fj[k61W9Tnwn+P2?b">mode</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="X:0`EIVoXVIAA9fZOZ2O"><field name="TEXT">rainly mode</field></block></value></block></value><statement name="DO1"><block type="function_call" id="kPMsP*PtRYlCTc!AgFTW"><mutation name="do_rainly" functionid="wLGoc!=4j$N26RIv/qs4"></mutation></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="3LJigbLSkt~9*e}Q$(vz"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="x~lCkvy-|L_Y$cfj-m!_"><field name="VAR" id="B1.fj[k61W9Tnwn+P2?b">mode</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="3dC]@:CK81:OEqn@nJH6"><field name="TEXT">security mode</field></block></value></block></value><statement name="DO2"><block type="function_call" id="_wZ|jexQ!,5Phzv-,{ao"><mutation name="do_security" functionid="?L_/@XC4GTC6]xr*bjNy"></mutation></block></statement><value name="IF3"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="=Jj[B#AE?34msb*kmhj2"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="*jpK5q`s.Df3SMq$?6[P"><field name="VAR" id="B1.fj[k61W9Tnwn+P2?b">mode</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="MqH$`l7sqdgAMn}Bmul%"><field name="TEXT">sleeping mode</field></block></value></block></value><statement name="DO3"><block type="function_call" id="K7Z-Z,5iB8SOKXgTe~Qe"><mutation name="do_sleeping" functionid="5!U,4Iz3]0m]Yl0ndPow"></mutation></block></statement><next><block type="device_pause" id="9(RS@iRYzGZo!~lRg|_t"><value name="pause"><shadow type="timePicker" id="wWM9cUwPrg^?Uz@]JEvY"><field name="ms">5000</field></shadow></value></block></next></block></statement></block><block type="ESP8266_IoT_MqttEvent" id="7eBg5]dIJ{q%@TCgIJJX" x="550" y="746"><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="topic"><shadow type="text" id="`Q@Z+T+h8DQ{}GeP)syp"><field name="TEXT">myhome/null/mode</field></shadow></value><value name="HANDLER_DRAG_PARAM_message"><shadow type="variables_get_reporter" id="!;SwGOQIy{[a0V];bzb8"><field name="VAR" id="DP#5zz|2Vx!9wi7l$;%%">message</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="MU%sDbu96VI7SwQw={K-"><field name="VAR" id="B1.fj[k61W9Tnwn+P2?b">mode</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="RLACbsS/1CmA@*dSK6U]"><field name="VAR" id="DP#5zz|2Vx!9wi7l$;%%">message</field></block></value></block></statement></block><block type="function_definition" id="IF|*TQkMZAo5PZ.[Vv~#" x="20" y="941"><mutation name="do_rainly" functionid="wLGoc!=4j$N26RIv/qs4"></mutation><field name="function_name">do_rainly</field></block><block type="function_definition" id="-_0+PS^{:I`q~tJ%3b^i" x="568" y="940"><mutation name="do_security" functionid="?L_/@XC4GTC6]xr*bjNy"></mutation><field name="function_name">do_security</field><statement name="STACK"><block type="controls_if" id="^BOOPUA.wfzwYf{jFI6C"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="pOtSo1jmm1igs@S^sV*%"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="sonar_ping" id="7i(5(.D2Ecr@UfE_NlrF"><field name="trig">DigitalPin.P13</field><field name="echo">DigitalPin.P14</field><field name="unit">PingUnit.Centimeters</field></block></value><value name="B"><shadow type="math_number" id="n0uHSu/:)gT4U$}@vW=/"><field name="NUM">10</field></shadow></value></block></value><statement name="DO0"><block type="music_playable_play" id="_Ojv}W_6z%rSS23uhvKC"><field name="playbackMode">music.PlaybackMode.LoopingInBackground</field><value name="toPlay"><shadow type="music_string_playable" id="N@,JEQoeMYheGiG6O#9L"><value name="melody"><shadow type="melody_editor" id="EM]))C$FRu?fdN_7*?8Y"><field name="melody">"C5 B C5 B C5 B C5 B "</field></shadow></value><value name="bpm"><shadow type="math_number_minmax" id="tm8!wR,G#-f;zP*hS*_w"><mutation min="40" max="500" label="Number" precision="0"></mutation><field name="SLIDER">277</field></shadow></value></shadow></value></block></statement><statement name="ELSE"><block type="music_stop_all_sounds" id="uMx_}596G/9CMKd8P0`H"></block></statement></block></statement></block><block type="function_definition" id=".ogJt#8R_dP6k^G/_.H8" x="1366" y="935"><mutation name="do_sleeping" functionid="5!U,4Iz3]0m]Yl0ndPow"></mutation><field name="function_name">do_sleeping</field><statement name="STACK"><block type="controls_if" id="ImB{!+NWS4O338`woIG9"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="GPuol,.ON9b[QaN:OD%x"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="tDv#Ky}$WR%dM#/M-KO@"><field name="name">AnalogPin.P1</field></block></value><value name="B"><shadow type="math_number" id="Cy7$A{2pxBhab#*;u~TL"><field name="NUM">300</field></shadow></value></block></value><statement name="DO0"><block type="device_set_analog_pin" id="8kp7]:MV.$1l={$1H3DH"><field name="name">AnalogPin.P16</field><value name="value"><shadow type="math_number_minmax" id="[wfOpzbq}qm|WSj(siI."><mutation min="0" max="1023" label="Number" precision="0"></mutation><field name="SLIDER">256</field></shadow></value></block></statement><statement name="ELSE"><block type="device_set_analog_pin" id="aHVy,FQup~oTt^[vJWlS"><field name="name">AnalogPin.P16</field><value name="value"><shadow type="math_number_minmax" id="?HNr.OtY:=zg]kx:{Uw5"><mutation min="0" max="1023" label="Number" precision="0"></mutation><field name="SLIDER">0</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="l!u3u8b-{{.JuN0bq[9}" x="15" y="1100"><mutation name="do_sunny" functionid=".awae^gegwDTtBX%|Z@o"></mutation><field name="function_name">do_sunny</field></block></xml>